<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Command Line Warnings Plugin &#8212; warning-plugin 5.2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/pydoctheme.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    
    <script src="_static/sidebar.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation Guide" href="installation.html" />
    <link rel="prev" title="Contents" href="index.html" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="_static/favicon.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    

  </head><body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
        <li><a href="index.html">warning-plugin-5.2.0</a> &#187;</li> 
      </ul>
    </div>
    
        <div class="badge">
            <a href="https://github.com/melexis/warnings-plugin">Fork me on GitHub</a>
            <img src="_static/right-red@2x.png">
        </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="http://www.apache.org/licenses/LICENSE-2.0"><img alt="Apache2 License" src="https://img.shields.io/hexpm/l/plug.svg" /></a>
<a class="reference external image-reference" href="https://github.com/melexis/warnings-plugin/actions/workflows/python-package.yml"><img alt="Build status" src="https://github.com/melexis/warnings-plugin/actions/workflows/python-package.yml/badge.svg?branch=master" /></a>
<a class="reference external image-reference" href="https://badge.fury.io/py/mlx.warnings"><img alt="Pypi packaged release" src="https://badge.fury.io/py/mlx.warnings.svg" /></a>
<a class="reference external image-reference" href="https://melexis.github.io/warnings-plugin/"><img alt="Documentation" src="https://img.shields.io/badge/Documentation-published-brightgreen.svg" /></a>
<a class="reference external image-reference" href="https://scan.coverity.com/projects/melexis-warnings-plugin"><img alt="Coverity Scan Build Status" src="https://scan.coverity.com/projects/15266/badge.svg" /></a>
<a class="reference external image-reference" href="https://codecov.io/gh/melexis/warnings-plugin"><img alt="Code Coverage" src="https://codecov.io/gh/melexis/warnings-plugin/branch/master/graph/badge.svg" /></a>
<a class="reference external image-reference" href="https://codeclimate.com/github/melexis/warnings-plugin"><img alt="Code Climate Status" src="https://codeclimate.com/github/melexis/warnings-plugin/badges/gpa.svg" /></a>
<a class="reference external image-reference" href="https://codeclimate.com/github/melexis/warnings-plugin"><img alt="Issue Count" src="https://codeclimate.com/github/melexis/warnings-plugin/badges/issue_count.svg" /></a>
<a class="reference external image-reference" href="https://github.com/melexis/warnings-plugin/issues"><img alt="Contributions welcome" src="https://img.shields.io/badge/contributions-welcome-brightgreen.svg?style=flat" /></a>
<a class="reference external image-reference" href="https://bestpractices.coreinfrastructure.org/projects/4368"><img alt="CII Best Practices" src="https://bestpractices.coreinfrastructure.org/projects/4368/badge" /></a>
<section id="command-line-warnings-plugin">
<h1>Command Line Warnings Plugin<a class="headerlink" href="#command-line-warnings-plugin" title="Permalink to this heading">¶</a></h1>
<p>Command-line alternative for <a class="reference external" href="https://github.com/jenkinsci/warnings-plugin">https://github.com/jenkinsci/warnings-plugin</a>.
Useable with plugin-less CI systems. It can be used with GitLab-CI to enable
warning threshold setting for failing the job and for parsing warnings from
various tools and report them as errors.</p>
</section>
<section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h1>
<p>Every release is uploaded to pip so it can be installed simply by using pip.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Python3</span>
pip3<span class="w"> </span>install<span class="w"> </span>mlx.warnings
</pre></div>
</div>
<p>You can find more details in the <a class="reference external" href="https://melexis.github.io/warnings-plugin/installation.html">Installation guide</a>.</p>
</section>
<section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h1>
<p>Warnings plugin parses log messages as well as direct command stream. In case you
want to create log file, you will need to redirect your stderr to some text file.
You can do that with shell pipes or with
command line arguments to command (if it supports outputting errors to file
instead of stderr). Be aware that some commands print warnings on stdout.</p>
<p>Also warnings plugin log files need to be the last argument as otherwise the
arguments after that are discarded, because they are considered as command
arguments (with or without command flag).</p>
<section id="pipe-example">
<h2>Pipe Example<a class="headerlink" href="#pipe-example" title="Permalink to this heading">¶</a></h2>
<p>Below is one of the ways to redirect your stderr to stdout and save it inside a
file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yourcommand<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>doc_log.txt
</pre></div>
</div>
</section>
<section id="command-example">
<h2>Command Example<a class="headerlink" href="#command-example" title="Permalink to this heading">¶</a></h2>
<p>Below is the command example for the plugin (keep in mind that parse commands are
required).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mlx-warnings<span class="w"> </span>--command<span class="w"> </span>&lt;yourcommand&gt;
</pre></div>
</div>
</section>
<section id="running-command">
<h2>Running Command<a class="headerlink" href="#running-command" title="Permalink to this heading">¶</a></h2>
<p>There are few ways to run warnings plugin. If you are playing with Python on
your computer you want to use <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code>. This will separate your packages
per project and there is less chance of some dependency hell. You can
initialize virtual environment in current directory by <code class="docutils literal notranslate"><span class="pre">virtualenv</span> <span class="pre">.</span></code> .</p>
<p>Melexis Warnings plugin can be called directly from shell/console using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mlx-warnings<span class="w"> </span>-h
</pre></div>
</div>
<p>It has also possibility to be called as module from <code class="docutils literal notranslate"><span class="pre">python3</span></code>. In
that case command will look like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>-h
</pre></div>
</div>
<p>Help prints all currently supported commands and their usages.</p>
<p>The command returns (shell $? variable):</p>
<ul class="simple">
<li><p>value 0 when the number of counted warnings is within the supplied minimum and maximum limits: ok,</p></li>
<li><p>number of counted warnings (positive) when the counter number is not within those limit (1 in case of 0 counted warnings).</p></li>
</ul>
</section>
<section id="simple-command-line-options">
<h2>Simple Command Line Options<a class="headerlink" href="#simple-command-line-options" title="Permalink to this heading">¶</a></h2>
<p>Plugin has two forms of passing the arguments to checkers. The command line
option which enables checkers and sets minimum and maximum to each checker
individually, or the configuration file option which provides more flexibility
and also traceability as it resides inside repository and provides option to
adjust minimum and maximum per individual checker.</p>
<section id="parse-for-sphinx-warnings">
<h3>Parse for Sphinx Warnings<a class="headerlink" href="#parse-for-sphinx-warnings" title="Permalink to this heading">¶</a></h3>
<p>After you saved your Sphinx warnings to the file, you can parse it with
command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># command line log file</span>
mlx-warnings<span class="w"> </span>doc_log.txt<span class="w"> </span>--sphinx
<span class="c1"># command line command execution</span>
mlx-warnings<span class="w"> </span>--sphinx<span class="w"> </span>--command<span class="w"> </span>&lt;commandforsphinx&gt;

<span class="c1"># explicitly as python module for log file</span>
python3<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--sphinx<span class="w"> </span>doc_log.txt
python<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--sphinx<span class="w"> </span>doc_log.txt
<span class="c1"># explicitly as python module</span>
python3<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--sphinx<span class="w"> </span>--command<span class="w"> </span>&lt;commandforsphinx&gt;
python<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--sphinx<span class="w"> </span>--command<span class="w"> </span>&lt;commandforsphinx&gt;
</pre></div>
</div>
</section>
<section id="parse-for-doxygen-warnings">
<h3>Parse for Doxygen Warnings<a class="headerlink" href="#parse-for-doxygen-warnings" title="Permalink to this heading">¶</a></h3>
<p>After you saved your Doxygen warnings to the file, you can parse it with
command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># command line log file</span>
mlx-warnings<span class="w"> </span>doc_log.txt<span class="w"> </span>--doxygen
<span class="c1"># command line command execution</span>
mlx-warnings<span class="w"> </span>--doxygen<span class="w"> </span>--command<span class="w"> </span>&lt;commandfordoxygen&gt;

<span class="c1"># explicitly as python module for log file</span>
python3<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--doxygen<span class="w"> </span>doc_log.txt
python<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--doxygen<span class="w"> </span>doc_log.txt
<span class="c1"># explicitly as python module</span>
python3<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--doxygen<span class="w"> </span>--command<span class="w"> </span>&lt;commandfordoxygen&gt;
python<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--doxygen<span class="w"> </span>--command<span class="w"> </span>&lt;commandfordoxygen&gt;
</pre></div>
</div>
</section>
<section id="parse-for-coverity-defects">
<h3>Parse for Coverity Defects<a class="headerlink" href="#parse-for-coverity-defects" title="Permalink to this heading">¶</a></h3>
<p>Coverity is a static analysis tool which has option to run desktop analysis
on your local changes and report the results back directly in the console.
You only need to list affected files and below example lists changed files
between your branch and master, which it then forwards to <code class="docutils literal notranslate"><span class="pre">cov-run-desktop</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cov-run-desktop<span class="w"> </span>--text-output-style<span class="o">=</span>oneline<span class="w"> </span><span class="sb">`</span>git<span class="w"> </span>diff<span class="w"> </span>--name-only<span class="w"> </span>--ignore-submodules<span class="w"> </span>master<span class="sb">`</span>
</pre></div>
</div>
<p>You can pipe the results to logfile, which you pass to warnings-plugin, or you use
the <code class="docutils literal notranslate"><span class="pre">--command</span></code> argument and execute the <code class="docutils literal notranslate"><span class="pre">cov-run-desktop</span></code> through</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># command line log file</span>
mlx-warnings<span class="w"> </span>cov-run-desktop-output.txt<span class="w"> </span>--coverity
<span class="c1"># command line command execution</span>
mlx-warnings<span class="w"> </span>--coverity<span class="w"> </span>--command<span class="w"> </span>&lt;commandforcoverity&gt;

<span class="c1"># explicitly as python module for log file</span>
python3<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--coverity<span class="w"> </span>cov-run-desktop-output.txt
python<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--coverity<span class="w"> </span>cov-run-desktop-output.txt
<span class="c1"># explicitly as python module</span>
python3<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--coverity<span class="w"> </span>--command<span class="w"> </span>&lt;commandforcoverity&gt;
python<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--coverity<span class="w"> </span>--command<span class="w"> </span>&lt;commandforcoverity&gt;
</pre></div>
</div>
</section>
<section id="parse-for-junit-failures">
<h3>Parse for JUnit Failures<a class="headerlink" href="#parse-for-junit-failures" title="Permalink to this heading">¶</a></h3>
<p>After you saved your JUnit XML output to the file, you can parse it with
command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># command line log file</span>
mlx-warnings<span class="w"> </span>junit_output.xml<span class="w"> </span>--junit
<span class="c1"># command line command execution</span>
mlx-warnings<span class="w"> </span>--junit<span class="w"> </span>--command<span class="w"> </span>&lt;commandforjunit&gt;

<span class="c1"># explicitly as python module for log file</span>
python3<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--junit<span class="w"> </span>junit_output.xml
python<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--junit<span class="w"> </span>junit_output.xml
<span class="c1"># explicitly as python module</span>
python3<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--junit<span class="w"> </span>--command<span class="w"> </span>&lt;commandforjunit&gt;
python<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--junit<span class="w"> </span>--command<span class="w"> </span>&lt;commandforjunit&gt;
</pre></div>
</div>
</section>
<section id="parse-for-xmlrunner-errors">
<h3>Parse for XMLRunner Errors<a class="headerlink" href="#parse-for-xmlrunner-errors" title="Permalink to this heading">¶</a></h3>
<p>When you run <a class="reference external" href="https://github.com/xmlrunner/unittest-xml-reporting">XMLRunner</a>,
the errors are reported on the output, but they are not marked as failures in
the test reports xml files. Since command exits as 1, we could not detect tests
that just did not run (not failed). warnings-plugin now parses for the output
with command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># command line log file</span>
mlx-warnings<span class="w"> </span>xmlrunner_log.txt<span class="w"> </span>--xmlrunner
<span class="c1"># command line command execution</span>
mlx-warnings<span class="w"> </span>--xmlrunner<span class="w"> </span>--command<span class="w"> </span>&lt;commandforxmlrunner&gt;

<span class="c1"># explicitly as python module for log file</span>
python3<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--xmlrunner<span class="w"> </span>xmlrunner_log.txt
python<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--xmlrunner<span class="w"> </span>xmlrunner_log.txt
<span class="c1"># explicitly as python module</span>
python3<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--xmlrunner<span class="w"> </span>--command<span class="w"> </span>&lt;commandforxmlrunner&gt;
python<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--xmlrunner<span class="w"> </span>--command<span class="w"> </span>&lt;commandforxmlrunner&gt;
</pre></div>
</div>
</section>
<section id="parse-for-robot-framework-test-failures">
<h3>Parse for Robot Framework Test Failures<a class="headerlink" href="#parse-for-robot-framework-test-failures" title="Permalink to this heading">¶</a></h3>
<p>When running <a class="reference external" href="https://robotframework.org/">Robot Framework</a> tests with <a class="reference external" href="https://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#xunit-compatible-result-file"><code class="docutils literal notranslate"><span class="pre">--xunit</span> <span class="pre">report.xml</span></code></a> as an input
argument, an xUnit compatible result file is generated. The warnings-plugin can
parse this file and check the amount of failures. By default, the test results
of all test suites in the file are taken into account. If you only care about
one specific test suite, you can use <code class="docutils literal notranslate"><span class="pre">--name</span> <span class="pre">&lt;&lt;suite</span> <span class="pre">name&gt;&gt;</span></code>. If this suite
name doesn’t exist in the input file, an error is raised. The warning
limits can be configured for multiple test suites individually by means of a
<a class="reference internal" href="#configuration-file-to-pass-options">configuration file to pass options</a>. If the setting <code class="docutils literal notranslate"><span class="pre">&quot;check_suite_names&quot;</span></code>
is false, no error is raised when a suite name doesn’t exist in the
input file. When this setting is missing, the default value <code class="docutils literal notranslate"><span class="pre">true</span></code> is used.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># command line xunit file</span>
mlx-warnings<span class="w"> </span>--robot<span class="w"> </span>report.xml
<span class="c1"># ignore all but the specified suite</span>
mlx-warnings<span class="w"> </span>--robot<span class="w"> </span>--name<span class="w"> </span><span class="s2">&quot;Suite Name&quot;</span><span class="w"> </span>report.xml

<span class="c1"># explicitly as python module</span>
python3<span class="w"> </span>-m<span class="w"> </span>mlx.warnings<span class="w"> </span>--robot<span class="w"> </span>--name<span class="w"> </span><span class="s2">&quot;Suite Name&quot;</span><span class="w"> </span>report.xml
</pre></div>
</div>
</section>
</section>
<section id="configuration-file-to-pass-options">
<h2>Configuration File to Pass Options<a class="headerlink" href="#configuration-file-to-pass-options" title="Permalink to this heading">¶</a></h2>
<p>Beside command line, you can pass options through the configuration file.
Configuration file is in JSON or <a class="reference external" href="https://yaml.org/spec/1.2.2/">YAML</a> format with a simple structure.
The values for ‘min’ and ‘max’ can be set with environment variables via a
<a class="reference external" href="https://docs.python.org/3/library/string.html#string.Template.template"><code class="docutils literal notranslate"><span class="pre">string.Template</span></code></a>, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;${MAX_SPHINX_WARNINGS}&quot;</span></code>.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;sphinx&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;cq_default_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;doc/source/conf.py&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;cq_description_template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$PRODUCT | $description&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${MAX_SPHINX_WARNINGS}&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;doxygen&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;cq_default_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;doc/doxygen/Doxyfile&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$MIN_DOXY_WARNINGS&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$MAX_DOXY_WARNINGS&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;junit&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;xmlrunner&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;coverity&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;robot&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;check_suite_names&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;suites&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My First Suite&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My Second Suite&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>First key is <code class="docutils literal notranslate"><span class="pre">checkername</span></code>, then it contains a boolean value for key <code class="docutils literal notranslate"><span class="pre">enabled</span></code>,
value for minimum number of warnings with key <code class="docutils literal notranslate"><span class="pre">min</span></code> and value for maximum
number of warnings with key <code class="docutils literal notranslate"><span class="pre">max</span></code>. This structure allows simple expansion.</p>
<p>To run the plugin with configuration file you simply pass <code class="docutils literal notranslate"><span class="pre">--config</span></code> flag with
path to configuration file</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># command line log file</span>
mlx-warnings<span class="w"> </span>--config<span class="w"> </span>path/to/config.json<span class="w"> </span>junit_output.xml
<span class="c1"># command line command execution</span>
mlx-warnings<span class="w"> </span>--config<span class="w"> </span>path/to/config.json<span class="w"> </span>--command<span class="w"> </span>&lt;commandforjunit&gt;
</pre></div>
</div>
</section>
<section id="other-options">
<h2>Other Options<a class="headerlink" href="#other-options" title="Permalink to this heading">¶</a></h2>
<p>Since the plugin is under active development there are new Features added fast.
Important options currently include setting a minimum and a maximum number of warnings
that are still acceptable to return 0 (success). Requiring an exact amount of warnings
using a single option is also possible. Look at scripts help for more details about the options.</p>
<section id="exclude-matches-with-regexes">
<h3>Exclude Matches With Regexes<a class="headerlink" href="#exclude-matches-with-regexes" title="Permalink to this heading">¶</a></h3>
<p>In case you want a checker to exclude certain matches, you can configure
one or more regular expressions in the configuration file on a per-checker basis.
If a pattern of a regex to exclude is found in a match of the checker’s regex, the checker
won’t count that match. Add the regex(es) as a list of string values for the <code class="docutils literal notranslate"><span class="pre">exclude</span></code> key.
An example configuration for the sphinx checker is given below:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;sphinx&quot;</span><span class="p">:{</span>
<span class="w">        </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;exclude&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;RemovedInSphinx\\d+Warning&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;WARNING: toctree&quot;</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="exclude-sphinx-deprecation-warnings">
<h3>Exclude Sphinx Deprecation Warnings<a class="headerlink" href="#exclude-sphinx-deprecation-warnings" title="Permalink to this heading">¶</a></h3>
<p>There is a special flag <code class="docutils literal notranslate"><span class="pre">--exclude-sphinx-deprecation</span></code> that lets the sphinx checker exclude
Sphinx deprecation warnings. These warnings match the following regular expression:
<code class="docutils literal notranslate"><span class="pre">RemovedInSphinx\\d+Warning</span></code>. Using this flag results in the same behavior as adding this
regex to the configuration file as value for the <code class="docutils literal notranslate"><span class="pre">exclude</span></code> key for the sphinx checker.</p>
</section>
<section id="store-all-counted-warnings">
<h3>Store All Counted Warnings<a class="headerlink" href="#store-all-counted-warnings" title="Permalink to this heading">¶</a></h3>
<p>Use <cite>-o, –output &lt;file_path&gt;</cite> to let the plugin write all counted warnings/failures as strings to a text file.
This can help you separate the warnings/failures that matter from those that are excluded or from irrelevant text that
may exist in the input file (or produced by the given command).</p>
</section>
<section id="code-quality-report">
<h3>Code Quality Report<a class="headerlink" href="#code-quality-report" title="Permalink to this heading">¶</a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">-C,</span> <span class="pre">--code-quality</span></code> to let the plugin generate <a class="reference external" href="https://docs.gitlab.com/ee/ci/testing/code_quality.html">a Code Quality report</a> for GitLab CI. All counted
Sphinx, Doxygen and XMLRunner will be included. Other checker types are not supported by this feature. The report is
a JSON file that implements <a class="reference external" href="https://docs.gitlab.com/ee/ci/testing/code_quality.html#implement-a-custom-tool">a subset of the Code Climate spec</a>. Define this file <a class="reference external" href="https://docs.gitlab.com/ee/ci/yaml/artifacts_reports.html#artifactsreportscodequality">as a codequality report artifact</a>
of the CI job.</p>
<p>If a warning doesn’t contain a path, <code class="docutils literal notranslate"><span class="pre">&quot;cq_default_path&quot;</span></code> from the <a class="reference internal" href="#configuration-file-to-pass-options">configuration file to pass options</a> will be used.
If not configured, <code class="docutils literal notranslate"><span class="pre">.gitlab-ci.yml</span></code> will be used as a fallback path.</p>
<p>You can customize the description with <code class="docutils literal notranslate"><span class="pre">&quot;cq_description_template&quot;</span></code>, see <a class="reference internal" href="#configuration-file-to-pass-options">configuration file to pass options</a>.
Its value should be a template for Python’s <a class="reference external" href="https://docs.python.org/3/library/string.html#string.Template.template"><code class="docutils literal notranslate"><span class="pre">string.Template</span></code></a>. The template should contain <code class="docutils literal notranslate"><span class="pre">$description</span></code> and has
access to all environment variables, e.g. <code class="docutils literal notranslate"><span class="pre">$HOME</span></code>.</p>
</section>
</section>
</section>
<section id="issues-and-new-features">
<h1>Issues and New Features<a class="headerlink" href="#issues-and-new-features" title="Permalink to this heading">¶</a></h1>
<p>In case you have any problems with usage of the plugin, please open an issue
on GitHub. Provide as many valid information as possible, as this will help us
to resolve Issues faster. We would also like to hear your suggestions about new
features which would help your Continuous Integration run better.</p>
</section>
<section id="contribute">
<h1>Contribute<a class="headerlink" href="#contribute" title="Permalink to this heading">¶</a></h1>
<p>There is a Contribution guide available if you would like to get involved in
development of the plugin. We encourage anyone to contribute to our repository.</p>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a id="sidebar-anchor"></a>
    

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Command Line Warnings Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pipe-example">Pipe Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#command-example">Command Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-command">Running Command</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simple-command-line-options">Simple Command Line Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-file-to-pass-options">Configuration File to Pass Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-options">Other Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#issues-and-new-features">Issues and New Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="#contribute">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Software Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html#getting-started">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html#reporting-issues-or-requesting-a-new-feature">Reporting Issues or Requesting a New Feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/readme.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
<div id="sidebarbutton" title="Collapse sidebar">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation Guide"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Contents"
             accesskey="P">previous</a> |</li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2017-2019, Bavo Van Achte.
      Last updated on Jan 30, 2024.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>